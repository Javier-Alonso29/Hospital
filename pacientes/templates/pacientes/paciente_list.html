{% extends 'base.html' %}

{% block titulo %}Lista de pacientes{% endblock titulo %}

{% block contenido %}
<div class="contenedor">
    <h1>Lista de pacientes</h1>
    <a href="{% url 'pacientes:pdf' %}" class="btn btn-lg bg-success" role="button" aria-pressed="true">Generar PDF</a>
</div>

<p><b>Total de pacientes:</b> {{contador}}</p>
<table class="table table-bordered">
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Apellido paterno</th>
            <th>Apellido materno</th>
            <th>Fecha de nacimiento</th>
            <th>No. Seguro social</th>
            <th>Tipo de sangre</th>
            <th>Opciones</th>
        </tr>
    </thead>
    <tbody>
        {% for paciente in object_list %}
        <tr>
            <td>{{paciente.nombre}}</td>
            <td>{{paciente.primerApellido}}</td>
            <td>{{paciente.segundoApellido}}</td>
            <td>{{paciente.fecha_nac}}</td>
            <td>{{paciente.numero_ss}}</td>
            <td>{{paciente.tipo_sangre}}</td>
            <td>
                <a title="Actualiza paciente" class="btn btn-warning" href="{% url 'pacientes:editar' paciente.id %}">
                    <i class="far fa-edit"></i>
                </a>
                <a title="Elimina paciente" class="btn btn-danger" href="{% url 'pacientes:eliminar' paciente.id %}">
                    <i class="far fa-trash-alt"></i>
                </a>
                <a title="Generar pdf" href="{% url 'pacientes:pdf_paciente' paciente.id %}" class="btn btn-info">
                    <i class="fas fa-file-pdf"></i>
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<div class="pagination justify-content-center">
    
    <ul class="pagination">

        <li class="page-item ">
            <a href="?page=1" class="page-link">&laquo; Primero</a>
        </li>

        {% for i in page_obj.paginator.page_range %}

            {% if page_obj.number == i  %}
                <li class="page-item active">
                    <a class="page-link" href="#">{{ i }} <span class="sr-only">(current)</span></a>
                </li>

            {% else %}
                <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
            {% endif %}

        {% endfor %}

        <li class="page-item ">
            <a href="?page={{ page_obj.paginator.num_pages }}" class="page-link">Ultimo &raquo;</a>
        </li>

    </ul>
</div>
{% endblock contenido %}
    